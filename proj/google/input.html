<!DOCTYPE html>
<form onsubmit="preventDefault;search(this)"><input type="text"></input>
</form>
<script>
function parse(a) {
var b=[],i;
for(i in a){
b.push(a[i])
if(a[i]=="&"){b.pop();b.push("%26")}
}
return b.join("");
}
function search(e){
var text=e.firstChild.value;
text=parse(text);
var site=location.search;
if(site){site="site:"+site.replace("?","")+"+"}else{site=""}
window.open("google.com/search?q="+site+text)
}
</script>
